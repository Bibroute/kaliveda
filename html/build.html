<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>Build and Install</title>
    <link rel="stylesheet" href="css/site.css" type="text/css">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta content="J.D. Frankland, GANIL (France)" name="author">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="images/favicon.ico"
      type="image/x-icon">
  </head>
  <body>
    <h1>Build & Install</h1>
    <div class="leftSide">

      <script language="javascript" src="js/nav.js"></script> <br>
      <!-- SiteSearch Google -->
      <form method="get" action="http://www.google.com/search"><input
          name="ie" value="UTF-8" type="hidden"> <input name="oe"
          value="UTF-8" type="hidden"><input name="q" style="margin-top:
          5px;" size="13" maxlength="255" value="" type="text"> <input
          name="btnG" style="margin-top: 5px;" value="Search site"
          onclick="send_data(this.form)" type="submit"></form>
      <!-- SiteSearch Google --> </div>
    <div class="page"> <br>
      <div class="news">
        <p class="newsText">
        If you downloaded KaliVeda as source code, you will need to build & install the
        toolkit. Here are some instructions (you will also find them in the file INSTALL in
        the top directory of the source tree).
        </p>
        <h3 class="newsTitle">Prerequisites</h3>
        <p class="newsText">
        <dl>
        <dt>ROOT</dt>
        <dd>At least v5.32 is required, ROOT6 is fully supported.<br>
        The following ROOT libraries
        <em>must</em> be installed: <i>libRint.so, libGraf.so, libGeom.so, libSpectrum.so, libProof.so,
        libProofPlayer.so, libPhysics.so, libHist.so, libRIO.so, libTree.so, libMathCore.so,
        libMatrix.so, libGpad.so, libGui.so, libNet.so</i>
        </dd>
        <dt>cmake</dt>
        <dd>The build system is based on CMake, at least v2.8.11 is required
        </dd>
        </dl>
        </p>
        <h3 class="newsTitle">Quick Start</h3>
        <p class="newsText">
        Here is a quick & simple build & installation, using only default settings.
        For a detailed explanation of the build system,
        see <a href="https://github.com/kaliveda-dev/kaliveda/wiki/Build-System">here</a>.
        </p>
        <p class="newsText">
        In the following, <b>S</b> is the top directory of your source tree, <b>B</b> is
        where you want to build the toolkit, and <b>I</b> is where you want to install
        the toolkit. Please note that all three of <b>S</b>, <b>B</b>, and <b>I</b> <em>must</em>
        be different directories.
        </p>
        <ol>
        <li>Configure the build
<div class="code">[do the following anywhere except in S or I]

$ mkdir B
$ cd B
$ cmake S -DCMAKE_INSTALL_PREFIX=I</div>
See <a href="https://github.com/kaliveda-dev/kaliveda/wiki/Build-System#cmake-options">here</a> for a full list of
build options which can be passed to CMake.
</li>
        <li>Compile and install
<div class="code">[do the following in build directory B]

$ make [-j[number of CPUs on multicore machine]] install</div></li>
</ol>
On a single-core machine, just type 'make install'. On a quad-core machine, type 'make -j4 install' etc.</p>
<p class="newsText">
If you are using a source tree under git version control (see <a href="download.html#git">here</a>), from time
to time you will want to update your source tree to the latest versions and rebuild the toolkit. It is usually
sufficient, in this case, to just repeat step 2 above.</p> 
<h3 class="newsTitle">Setup</h3>
<p class="newsText">
After installing, you can use one of the following scripts to set up the necessary paths on your system
to find the executables and run-time libraries:
<div class="code">$ source I/bin/thiskaliveda.csh   [(t)csh shell]
$ . I/bin/thiskaliveda.sh         [(ba)sh shell] </div>
where <b>I</b> is your installation directory. On (t)csh machines, you will probably need to follow this
with a call to the 'rehash' system function before proceeding. After doing this you should be able to do e.g.:
<div class="code">$ kaliveda-config --version
1.10/13

$ kaliveda
***********************************************************
*                    HI COQUINE !!!                       *
*                                                         *
*         W E L C O M E     to     K A L I V E D A        *
*                                                         *
* Version: 1.10/13                      Built: 2017-01-27 *
* git: release-1.10.13@release-1.10.13                    *
*                                                         *
*               For help, read the doc on :               *
*           http://indra.in2p3.fr/KaliVedaDoc             *
*                                                         *
*                          ENJOY !!!                      *
***********************************************************

kaliveda [0]
</div>    
        </p>
<p class="newsText">
To setup the KaliVeda paths every time you login to your system, place the call to thiskaliveda.(c)sh
at the end of whatever login script is appropriate for your shell,
a slight modification is required for (t)csh shells:
<div class="code">source I/bin/thiskaliveda.csh I   [(t)csh shell] </div>
</p>
      </div>
    </div>
  </body>
</html>
